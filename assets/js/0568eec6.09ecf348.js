"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[7401],{3877:(e,s,t)=>{t.r(s),t.d(s,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>i,metadata:()=>d,toc:()=>o});var n=t(4848),r=t(8453);const i={},l="AskDocsGPT - Server Module Unit Tests",d={id:"server/test",title:"AskDocsGPT - Server Module Unit Tests",description:"This directory contains unit test cases for the server module of the AskDocsGPT project. We have used both pytest and unittest libraries to write and organize the test cases effectively. The tests cover the core functionality of the AskDocsGPT backend services.",source:"@site/docs/server/test.md",sourceDirName:"server",slug:"/server/test",permalink:"/Generative-AI/docs/server/test",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Technical Report: AskDocsGPT",permalink:"/Generative-AI/docs/server/technical-report"},next:{title:"Client",permalink:"/Generative-AI/docs/category/client"}},c={},o=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Setup",id:"setup",level:2},{value:"Test Configuration",id:"test-configuration",level:2},{value:"Sample pytest.ini Configuration",id:"sample-pytestini-configuration",level:3},{value:"Running the Tests",id:"running-the-tests",level:2},{value:"Makefile Commands",id:"makefile-commands",level:3},{value:"Additional Notes",id:"additional-notes",level:2}];function a(e){const s={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.header,{children:(0,n.jsx)(s.h1,{id:"askdocsgpt---server-module-unit-tests",children:"AskDocsGPT - Server Module Unit Tests"})}),"\n",(0,n.jsxs)(s.p,{children:["This directory contains unit test cases for the ",(0,n.jsx)(s.strong,{children:"server module"})," of the ",(0,n.jsx)(s.strong,{children:"AskDocsGPT"})," project. We have used both ",(0,n.jsx)(s.code,{children:"pytest"})," and ",(0,n.jsx)(s.code,{children:"unittest"})," libraries to write and organize the test cases effectively. The tests cover the core functionality of the AskDocsGPT backend services."]}),"\n",(0,n.jsx)(s.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,n.jsx)(s.p,{children:"To run the test cases, make sure you have the following installed:"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"Python 3.10+"}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.code,{children:"pytest"})," for running test cases"]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.code,{children:"pytest-cov"})," for test coverage"]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.code,{children:"allure-pytest"})," for generating reports"]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.code,{children:"unittest"})," for isolated and asynchronous test cases"]}),"\n"]}),"\n",(0,n.jsx)(s.h2,{id:"setup",children:"Setup"}),"\n",(0,n.jsx)(s.p,{children:"Before running the tests, ensure all the necessary dependencies are installed. You can install them by running the following command:"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-bash",children:"pip install -r requirements.txt\n"})}),"\n",(0,n.jsx)(s.h2,{id:"test-configuration",children:"Test Configuration"}),"\n",(0,n.jsxs)(s.p,{children:["The ",(0,n.jsx)(s.code,{children:"pytest.ini"})," file is included in the project for configuring pytest and its related plugins. This file contains settings like test discovery patterns and coverage options."]}),"\n",(0,n.jsx)(s.h3,{id:"sample-pytestini-configuration",children:"Sample pytest.ini Configuration"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-ini",children:"[pytest]\nminversion = 6.0\naddopts = -ra -q\ntestpaths = tests\npythonpath = src\nasyncio_default_fixture_loop_scope = function\nfilterwarnings =\n    ignore::DeprecationWarning\n    ignore::UserWarning:langchain.*\n"})}),"\n",(0,n.jsx)(s.h2,{id:"running-the-tests",children:"Running the Tests"}),"\n",(0,n.jsxs)(s.p,{children:["We have included a ",(0,n.jsx)(s.a,{href:"Makefile",children:"Makefile"})," to make running tests and generating reports simpler. Here are the key commands you can use:"]}),"\n",(0,n.jsx)(s.h3,{id:"makefile-commands",children:"Makefile Commands"}),"\n",(0,n.jsxs)(s.p,{children:["You can run all the test cases using the following ",(0,n.jsx)(s.code,{children:"make"})," command:"]}),"\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{children:"Command"}),(0,n.jsx)(s.th,{children:"Description"})]})}),(0,n.jsxs)(s.tbody,{children:[(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"make"})}),(0,n.jsxs)(s.td,{children:["Runs all the unit tests using ",(0,n.jsx)(s.code,{children:"pytest"}),"."]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"make test"})}),(0,n.jsxs)(s.td,{children:["Runs all the unit tests using ",(0,n.jsx)(s.code,{children:"pytest"}),"."]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"make test-case TEST_CASE=<test-file>"})}),(0,n.jsxs)(s.td,{children:["Runs all the unit tests from the specific file using ",(0,n.jsx)(s.code,{children:"pytest"})," e.g ",(0,n.jsx)(s.code,{children:"make test-case TEST_CASE=service/test_qa_service.py"}),"."]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"make test-module MODULE=<module_name>"})}),(0,n.jsxs)(s.td,{children:["Runs all the unit tests from the specific module using ",(0,n.jsx)(s.code,{children:"pytest"})," e.g. ",(0,n.jsx)(s.code,{children:"make test-module MODULE=service"}),"."]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"make coverage"})}),(0,n.jsx)(s.td,{children:"Runs the tests and displays test coverage."})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"make report"})}),(0,n.jsx)(s.td,{children:"Runs the tests and generates an Allure HTML report."})]})]})]}),"\n",(0,n.jsx)(s.p,{children:"This will run the tests, collect the report data, and generate an Allure HTML report, which can be viewed for detailed insights into the test results."}),"\n",(0,n.jsx)(s.h2,{id:"additional-notes",children:"Additional Notes"}),"\n",(0,n.jsx)(s.p,{children:"To run the Allure report, you need to install Allure. Here are the commands to install Allure on Linux, Windows, and Mac:"}),"\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{children:(0,n.jsx)(s.strong,{children:"Operating System"})}),(0,n.jsx)(s.th,{children:(0,n.jsx)(s.strong,{children:"Command to Install Allure"})})]})}),(0,n.jsxs)(s.tbody,{children:[(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"Linux"})}),(0,n.jsxs)(s.td,{children:["Install via package manager:  ",(0,n.jsx)(s.code,{children:"sudo apt-add-repository ppa:qameta/allure"}),"  ",(0,n.jsx)(s.code,{children:"sudo apt update"}),"  ",(0,n.jsx)(s.code,{children:"sudo apt install allure"})]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"Windows"})}),(0,n.jsxs)(s.td,{children:["Install via Scoop (recommended):  ",(0,n.jsx)(s.code,{children:"scoop install allure"})]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"Mac"})}),(0,n.jsxs)(s.td,{children:["Install using Homebrew: ",(0,n.jsx)(s.code,{children:"brew install allure"})]})]})]})]}),"\n",(0,n.jsxs)(s.p,{children:["Use ",(0,n.jsx)(s.code,{children:"allure --version"})," to confirm that Allure has been installed correctly on your system."]})]})}function h(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(a,{...e})}):a(e)}},8453:(e,s,t)=>{t.d(s,{R:()=>l,x:()=>d});var n=t(6540);const r={},i=n.createContext(r);function l(e){const s=n.useContext(i);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function d(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),n.createElement(i.Provider,{value:s},e.children)}}}]);